<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حجز رحلتك - Socotra Go</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/arabic-styles.css">
    <style>
        .form-step {
            display: none;
        }
        .form-step.active {
            display: block;
        }
        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
        }
        .step {
            text-align: center;
            flex: 1;
            position: relative;
        }
        .step-number {
            width: 40px;
            height: 40px;
            background-color: #e9ecef;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
        }
        .step.active .step-number {
            background-color: #007bff;
            color: white;
        }
        .step.completed .step-number {
            background-color: #28a745;
            color: white;
        }
        .step-line {
            position: absolute;
            top: 20px;
            left: 50%;
            width: 100%;
            height: 2px;
            background-color: #e9ecef;
            z-index: -1;
        }
    </style>
</head>
<body>
    <!-- Navigation (Same as index.html) -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="assets/images/logo.png" alt="Socotra Go Logo" height="50">
                <span class="brand-text">Socotra Go</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">الرئيسية</a></li>
                    <li class="nav-item"><a class="nav-link" href="tours.html">الرحلات</a></li>
                    <li class="nav-item"><a class="nav-link" href="packages.html">الباقات</a></li>
                    <li class="nav-item"><a class="nav-link" href="attractions.html">الأماكن</a></li>
                    <li class="nav-item"><a class="nav-link" href="reviews.html">آراء العملاء</a></li>
                    <li class="nav-item"><a class="nav-link" href="about.html">عن الوكالة</a></li>
                    <li class="nav-item"><a class="nav-link" href="contact.html">التواصل</a></li>
                    <li class="nav-item"><a class="btn btn-outline-light me-2" href="book.html">احجز الآن</a></li>
                    <li class="nav-item">
                        <button class="btn btn-sm btn-language" id="langSwitch">EN</button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1 class="page-title">احجز رحلتك إلى سقطرى</h1>
            <p class="page-subtitle">املأ النموذج التالي وسنتصل بك لتأكيد الحجز</p>
        </div>
    </section>

    <!-- Booking Form -->
    <section class="booking-form-section py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <!-- Step Indicator -->
                    <div class="step-indicator">
                        <div class="step active" id="step1">
                            <div class="step-number">1</div>
                            <div class="step-title">المعلومات الشخصية</div>
                            <div class="step-line"></div>
                        </div>
                        <div class="step" id="step2">
                            <div class="step-number">2</div>
                            <div class="step-title">تفاصيل الرحلة</div>
                            <div class="step-line"></div>
                        </div>
                        <div class="step" id="step3">
                            <div class="step-number">3</div>
                            <div class="step-title">التأكيد والدفع</div>
                        </div>
                    </div>

                    <!-- Form Steps -->
                    <form id="bookingForm" action="admin/process_booking.php" method="POST">
                        <!-- Step 1: Personal Information -->
                        <div class="form-step active" id="step1-form">
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h4 class="mb-0">المعلومات الشخصية</h4>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="fullName" class="form-label">الاسم الكامل *</label>
                                            <input type="text" class="form-control" id="fullName" name="full_name" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="email" class="form-label">البريد الإلكتروني *</label>
                                            <input type="email" class="form-control" id="email" name="email" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="whatsapp" class="form-label">رقم الواتساب *</label>
                                            <div class="input-group">
                                                <span class="input-group-text">+967</span>
                                                <input type="tel" class="form-control" id="whatsapp" name="whatsapp" required>
                                            </div>
                                            <small class="text-muted">سنستخدم هذا الرقم للتواصل معك</small>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="country" class="form-label">الدولة *</label>
                                            <select class="form-select" id="country" name="country" required>
                                                <option value="">اختر الدولة</option>
                                                <option value="Yemen">اليمن</option>
                                                <option value="Saudi Arabia">السعودية</option>
                                                <option value="UAE">الإمارات</option>
                                                <option value="Qatar">قطر</option>
                                                <option value="Oman">عمان</option>
                                                <option value="Kuwait">الكويت</option>
                                                <option value="Bahrain">البحرين</option>
                                                <option value="Other">دولة أخرى</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="passport" class="form-label">رقم الجواز</label>
                                            <input type="text" class="form-control" id="passport" name="passport">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="nationality" class="form-label">الجنسية</label>
                                            <input type="text" class="form-control" id="nationality" name="nationality">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <button type="button" class="btn btn-primary next-step" data-next="step2">التالي</button>
                            </div>
                        </div>

                        <!-- Step 2: Trip Details -->
                        <div class="form-step" id="step2-form">
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h4 class="mb-0">تفاصيل الرحلة</h4>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="tripType" class="form-label">نوع الرحلة *</label>
                                            <select class="form-select" id="tripType" name="trip_type" required>
                                                <option value="">اختر نوع الرحلة</option>
                                                <option value="tour">رحلة يومية</option>
                                                <option value="package">باقة سياحية</option>
                                                <option value="custom">رحلة مخصصة</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="tripSelection" class="form-label">اختيار الرحلة/الباقة *</label>
                                            <select class="form-select" id="tripSelection" name="trip_selection" required>
                                                <option value="">اختر الرحلة أو الباقة</option>
                                                <optgroup label="الرحلات اليومية">
                                                    <option value="aiq_beach">رحلة شاطئ عيق - 120$</option>
                                                    <option value="dragon_blood">رحلة غابة دم الأخوين - 90$</option>
                                                    <option value="hoq_cave">رحلة كهف حوق - 110$</option>
                                                    <option value="qalansiya">رحلة قلنسية - 150$</option>
                                                </optgroup>
                                                <optgroup label="الباقات السياحية">
                                                    <option value="5days_package">باقة 5 أيام - 650$</option>
                                                    <option value="7days_package">باقة 7 أيام - 950$</option>
                                                    <option value="adventure_package">باقة المغامرين - 1200$</option>
                                                </optgroup>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="arrivalDate" class="form-label">تاريخ الوصول *</label>
                                            <input type="date" class="form-control" id="arrivalDate" name="arrival_date" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="departureDate" class="form-label">تاريخ المغادرة</label>
                                            <input type="date" class="form-control" id="departureDate" name="departure_date">
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="adults" class="form-label">عدد البالغين *</label>
                                            <input type="number" class="form-control" id="adults" name="adults" min="1" value="1" required>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="children" class="form-label">عدد الأطفال</label>
                                            <input type="number" class="form-control" id="children" name="children" min="0" value="0">
                                            <small class="text-muted">أقل من 12 سنة</small>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="infants" class="form-label">عدد الرضع</label>
                                            <input type="number" class="form-control" id="infants" name="infants" min="0" value="0">
                                            <small class="text-muted">أقل من 2 سنة</small>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="accommodation" class="form-label">نوع الإقامة المطلوبة</label>
                                            <select class="form-select" id="accommodation" name="accommodation">
                                                <option value="not_required">غير مطلوب</option>
                                                <option value="budget">اقتصادي (فنادق 3 نجوم)</option>
                                                <option value="standard">متوسط (فنادق 4 نجوم)</option>
                                                <option value="luxury">فاخر (فنادق 5 نجوم)</option>
                                                <option value="camping">تخييم</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="foodPreference" class="form-label">التفضيلات الغذائية</label>
                                            <select class="form-select" id="foodPreference" name="food_preference">
                                                <option value="no_preference">لا تفضيلات خاصة</option>
                                                <option value="vegetarian">نباتي</option>
                                                <option value="vegan">نباتي صرف</option>
                                                <option value="halal">حلال فقط</option>
                                                <option value="seafood">أكل بحري</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="specialRequests" class="form-label">طلبات خاصة أو ملاحظات إضافية</label>
                                        <textarea class="form-control" id="specialRequests" name="special_requests" rows="3" placeholder="أي طلبات خاصة، احتياجات طبية، احتياجات خاصة، ..."></textarea>
                                    </div>

                                    <div class="mb-3">
                                        <label for="howDidYouHear" class="form-label">كيف سمعت عنا؟</label>
                                        <select class="form-select" id="howDidYouHear" name="how_did_you_hear">
                                            <option value="">اختر...</option>
                                            <option value="facebook">فيسبوك</option>
                                            <option value="instagram">إنستغرام</option>
                                            <option value="tiktok">تيك توك</option>
                                            <option value="google">جوجل</option>
                                            <option value="friend">صديق</option>
                                            <option value="previous_client">عميل سابق</option>
                                            <option value="other">مصدر آخر</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex justify-content-between">
                                <button type="button" class="btn btn-secondary prev-step" data-prev="step1">السابق</button>
                                <button type="button" class="btn btn-primary next-step" data-next="step3">التالي</button>
                            </div>
                        </div>

                        <!-- Step 3: Confirmation & Payment -->
                        <div class="form-step" id="step3-form">
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h4 class="mb-0">تأكيد المعلومات والدفع</h4>
                                </div>
                                <div class="card-body">
                                    <!-- Summary -->
                                    <div class="booking-summary mb-4 p-3 bg-light rounded">
                                        <h5>ملخص الحجز</h5>
                                        <div id="summaryContent">
                                            <!-- Will be populated by JavaScript -->
                                        </div>
                                    </div>

                                    <!-- Terms and Conditions -->
                                    <div class="mb-4">
                                        <h5>الشروط والأحكام</h5>
                                        <div class="terms-box p-3 border rounded" style="max-height: 200px; overflow-y: auto;">
                                            <ol>
                                                <li>يجب تأكيد الحجز خلال 24 ساعة من إرسال النموذج.</li>
                                                <li>يتم دفع 30% كدفعة مقدمة للحجز.</li>
                                                <li>يجب دفع باقي المبلغ قبل أسبوع من موعد الرحلة.</li>
                                                <li>في حالة الإلغاء قبل 30 يومًا، يتم استرداد 80% من المبلغ.</li>
                                                <li>في حالة الإلغاء قبل 15 يومًا، يتم استرداد 50% من المبلغ.</li>
                                                <li>في حالة الإلغاء قبل 7 أيام، لا يتم استرداد أي مبلغ.</li>
                                                <li>يجب الحصول على تأشيرة زيارة لسقطرى قبل السفر.</li>
                                                <li>توصيلنا للخدمة مشروط بالأحوال الجوية وأمنية.</li>
                                                <li>نحن غير مسؤولين عن فقدان الأمتعة الشخصية.</li>
                                                <li>يجب أن يكون لدى المسافر تأمين سفر ساري المفعول.</li>
                                            </ol>
                                        </div>
                                        <div class="form-check mt-3">
                                            <input class="form-check-input" type="checkbox" id="agreeTerms" required>
                                            <label class="form-check-label" for="agreeTerms">
                                                أوافق على الشروط والأحكام المذكورة أعلاه *
                                            </label>
                                        </div>
                                    </div>

                                    <!-- Payment Method -->
                                    <div class="mb-4">
                                        <h5>طريقة الدفع</h5>
                                        <div class="payment-options">
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="radio" name="payment_method" id="payLater" value="pay_later" checked>
                                                <label class="form-check-label" for="payLater">
                                                    الدفع لاحقاً (سنرسل لك تفاصيل الحساب)
                                                </label>
                                            </div>
                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="radio" name="payment_method" id="bankTransfer" value="bank_transfer">
                                                <label class="form-check-label" for="bankTransfer">
                                                    التحويل البنكي
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="payment_method" id="cash" value="cash">
                                                <label class="form-check-label" for="cash">
                                                    نقداً عند الوصول
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Final Notes -->
                                    <div class="alert alert-info">
                                        <i class="bi bi-info-circle"></i>
                                        <strong>ملاحظة:</strong> بعد إرسال النموذج، سنتواصل معك خلال 24 ساعة لتأكيد الحجز وإرسال تفاصيل الدفع.
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex justify-content-between">
                                <button type="button" class="btn btn-secondary prev-step" data-prev="step2">السابق</button>
                                <button type="submit" class="btn btn-success" id="submitBooking">
                                    <i class="bi bi-send"></i> إرسال الحجز إلى Socotra Go
                                </button>
                            </div>
                        </div>
                    </form>

                    <!-- Booking Confirmation Modal -->
                    <div class="modal fade" id="bookingModal" tabindex="-1">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header bg-success text-white">
                                    <h5 class="modal-title">تم إرسال الحجز بنجاح!</h5>
                                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                                </div>
                                <div class="modal-body text-center">
                                    <i class="bi bi-check-circle-fill text-success" style="font-size: 4rem;"></i>
                                    <h4 class="mt-3">شكراً لتواصلك مع Socotra Go</h4>
                                    <p>تم استلام حجزك بنجاح وسنتواصل معك خلال 24 ساعة لتأكيد التفاصيل.</p>
                                    <p>رقم الحجز: <strong id="bookingNumber">SG-2024-001</strong></p>
                                    <div class="alert alert-warning mt-3">
                                        <i class="bi bi-whatsapp"></i>
                                        سنرسل لك رسالة على الواتساب للتواصل السريع
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <a href="index.html" class="btn btn-primary">العودة للرئيسية</a>
                                    <a href="contact.html" class="btn btn-outline-primary">اتصل بنا</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quick Contact -->
    <section class="quick-contact py-4 bg-light">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h5 class="mb-0">هل لديك استفسار؟ تواصل معنا مباشرة على الواتساب</h5>
                </div>
                <div class="col-md-4 text-md-end">
                    <a href="https://wa.me/967123456789" class="btn btn-success" target="_blank">
                        <i class="bi bi-whatsapp"></i> تواصل على الواتساب
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer (Same as index.html) -->
    <footer class="footer py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <h5 class="mb-4">Socotra Go</h5>
                    <p>وكالة سياحية متخصصة في رحلات جزيرة سقطرى، نقدم خدمات سياحية فريدة ومتميزة.</p>
                    <div class="social-links">
                        <a href="#" class="me-3"><i class="bi bi-whatsapp"></i></a>
                        <a href="#" class="me-3"><i class="bi bi-instagram"></i></a>
                        <a href="#" class="me-3"><i class="bi bi-tiktok"></i></a>
                        <a href="#" class="me-3"><i class="bi bi-facebook"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-6 mb-4">
                    <h6 class="mb-3">روابط سريعة</h6>
                    <ul class="list-unstyled">
                        <li><a href="index.html">الرئيسية</a></li>
                        <li><a href="tours.html">الرحلات</a></li>
                        <li><a href="packages.html">الباقات</a></li>
                        <li><a href="attractions.html">الأماكن</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-6 mb-4">
                    <h6 class="mb-3">المزيد</h6>
                    <ul class="list-unstyled">
                        <li><a href="reviews.html">آراء العملاء</a></li>
                        <li><a href="about.html">عن الوكالة</a></li>
                        <li><a href="contact.html">التواصل</a></li>
                        <li><a href="book.html">الحجز</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 mb-4">
                    <h6 class="mb-3">اتصل بنا</h6>
                    <p><i class="bi bi-whatsapp me-2"></i> +967 123 456 789</p>
                    <p><i class="bi bi-envelope me-2"></i> info@socotrago.com</p>
                    <p><i class="bi bi-geo-alt me-2"></i> حديبو، سقطرى، اليمن</p>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p class="mb-0">© 2024 Socotra Go. جميع الحقوق محفوظة.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/booking.js"></script>
    <script src="assets/js/language-switcher.js"></script>
</body>
</html>